{
    "states": [
        {"name": "can_see_item",
        "type": "see_object",
        "object_description": {"kind": "item", "item type": "shop"},
        "sticky": false},
        {"name": "can_see_mess",
            "type": "see_object",
            "object_description": {"kind": "item", "item type": "mess"},
            "sticky": false},
        {"name": "shopkeeper",
            "type": "role",
            "role": "shopkeeper",
            "sticky": false},
        {"name": "paid_for_item",
        "type": "in_location",
        "location": "counter",
        "requirements": {"got_item": true, "shopkeeper_at_counter": true},
        "sticky": true},
        {"name": "at_counter",
        "type": "in_location",
        "location": "counter",
        "sticky": false},
        {"name": "close_to_item",
            "type": "close_to_object",
            "object_description": {"kind": "item", "item type": "shop"},
            "distance": 10,
            "sticky": false},
        {"name": "close_to_mess",
            "type": "close_to_object",
            "object_description": {"kind": "item", "item type": "mess"},
            "distance": 10,
            "sticky": false},
        {"name": "at_exit",
        "type": "in_location",
        "location": "exit",
        "requirements": {"paid_for_item": true},
        "sticky": false},
        {"name": "got_item",
        "type": "set_by_action",
        "requirements": {"close_to_item": true},
        "sticky": true},
        {"name": "customer_at_counter",
        "type": "object_in_location",
        "object_description": {"kind": "boy"},
        "location": "counter",
        "sticky": false},
        {"name": "shopkeeper_at_counter",
        "type": "object_in_location",
        "object_description": {"kind": "boy", "role": "shopkeeper"},
        "location": "counter",
        "sticky": false},
        {"name": "sold_item",
        "type": "set_by_action",
        "sticky": false}
        ,
        {"name": "mess_cleaned",
        "type": "set_by_action",
        "sticky": true}
    ],
    "actions": [
        {"name": "sell_item_to_customer",
        "conditions": {"customer_at_counter": true, "at_counter": true, "shopkeeper": true},
        "reactions": {"sold_item": true},
        "type": "go_to",
        "goal":[520, 520]
        },
        {"name": "go_to_item", 
        "conditions": {"got_item": false, "can_see_item": true},
        "reactions":{"close_to_item": true},
        "type": "seek",
        "object_description": {"kind": "item", "item type": "shop"}
        },
        {"name": "go_to_mess", 
            "conditions": {"can_see_mess": true},
            "reactions":{"close_to_mess": true},
            "type": "seek",
            "object_description": {"kind": "item", "item type": "mess"}
            },
        {"name": "pick_up_item", 
        "conditions": {"got_item": false, "close_to_item": true},
        "reactions":{"got_item": true},
        "type": "perform",
        "delay": 0
        },
        {"name": "clean_up_mess", 
            "conditions": {"close_to_mess": true},
            "reactions":{"mess_cleaned": true},
            "type": "perform",
            "delay": 10
            },
        {"name": "go_to_counter",
        "conditions": {"got_item": true},
        "reactions": {"at_counter": true},
        "type": "go_to",
        "goal":[540, 520]
        },
        {"name": "go_out_the_back",
            "conditions": {"shopkeeper": true},
            "reactions": {"can_see_item": true},
            "type": "go_to",
            "goal":[200, 600]
            },
        {"name": "pay_for_item",
        "conditions":{"paid_for_item": false, "got_item": true, "at_counter": true, "shopkeeper_at_counter": true},
        "reactions":{"paid_for_item": true},
        "type": "go_to",
        "goal":[540, 520]
        },
        {"name": "wait_for_shopkeeper",
        "conditions": {"paid_for_item": false, "got_item": true, "at_counter": true, "shopkeeper_at_counter": false},
        "reactions": {"shopkeeper_at_counter": true},
        "type": "go_to",
        "goal":[540, 520]
        },
        {"name": "leave",
        "conditions":{"at_exit": false, "got_item": true, "paid_for_item": true},
        "reactions":{"at_exit": true},
        "type": "go_to",
        "goal":[0, 0]
        }
    ],
    "goals": {
        "buy_item": {"got_item": true, "paid_for_item": true, "at_exit": true},
        "sell_item": {"sold_item": true},
        "clean_messes": {"mess_cleaned": true}
    },
    "locations": {
        "counter": [[500, 500], [600, 550]],
        "exit": [[0, 0], [50, 50]],
        "out the back": [[0, 550], [100, 640]]
    }
    }
    
        
    